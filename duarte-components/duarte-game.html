<link rel="import" href="../components/core-ajax/core-ajax.html">

<script type="text/javascript" src="../js/jquery.js"></script>
<script type="text/javascript" src="../js/values.js"></script>
<script type="text/javascript" src="../js/level.js"></script>
<script type="text/javascript" src="../js/game.js"></script>
<script type="text/javascript" src="../js/entities.js"></script>

<polymer-element name="duarte-game" attributes="gameMode">
	<template>

	<style type="text/css">

		:host {
			display: block;
			position: relative;
			width: 600px;
			height: 600px;
			margin-top: 42px;
			margin-left: auto;
			margin-right: auto;
			padding: 0;
		}

		#container {
			background: #ffffff;
			display: block;
			width: 600px;
			height: 600px;
		}

		#htmlCanvas {
			display: block;
			width: 600px;
			height: 500px;
		}

		#gameOverlay {
			box-sizing: border-box;
			padding: 16px;
			color: #fff;
			background: #009688;
			width: 600px;
			height: 100px;
		}

		#timeAttackText {
			display: block;
			float: right;
		}

		#scoreText {
			display: block;
			float: left;
			font-size: 25px;
		}

	</style>

	<div id="container">

		<paper-shadow z="2" id="gameOverlay">
				
				<div id="timeAttackText"></div>
				<div id="scoreText"></div>

		</paper-shadow>
			
		<paper-shadow z="2" id="htmlCanvas"></paper-shadow>
		
	</div>
		
	</template>
	<script>
	(function() {

	var state = {};

	Polymer('duarte-game', {
		mode: false,
		ready: function() {
			timeAttackTimeElement = $(this.$.timeAttackText);
			scoreTextElement = $(this.$.scoreText);
			htmlCanvas = $(this.$.htmlCanvas);
			
			// this.game = new Game(htmlCanvas, state);
			this.game = new Game(htmlCanvas, 'normal');
		},
		onRouteLeave: function() {
			// state = this.game.saveState();
		}
	});

	})();

  </script>
</polymer-element>