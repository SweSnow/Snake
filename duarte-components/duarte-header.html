<link rel="import" href="../components/paper-dialog/paper-dialog.html">
<link rel="import" href="duarte-login.html">
<link rel="import" href="duarte-register.html">

<polymer-element name="duarte-header" attributes="smaller selected loggedin">
  <template>
	<style>

		body {
			-webkit-user-select: none;
			-moz-user-select: none;
			-ms-user-select: none;
			user-select: none;
		}

		#header-container {
			padding-left: 32px;
			padding-right: 32px;
			background-color: #009688;
			color: #fff;
			fill: #fff;
		}

		#header {
			margin: auto;
			max-width: 1400px;
			background-color: #009688;
		}

		#header-title {
			-webkit-user-select: none;
			-moz-user-select: none;
			-ms-user-select: none;
			user-select: none;
			font-weight: 300;
			font-size: 1.8em;
		}

		.header-bottom {
			height: 48px;
		}

		paper-tab {
			text-transform: uppercase;
		}

		paper-tab::shadow #ink {
			color: #ffff8d;
		}

		paper-tabs {
			-webkit-user-select: none;
			-moz-user-select: none;
			-ms-user-select: none;
			user-select: none;
			max-width: 700px;
		}

		#title-duarte {
			font-weight: 700;
		}

		#title-snake {
			padding-left: 5px;
			font-weight: 100;
			font-size: 0.8em;
		}

	</style>

	<div id="header-container" style="height: {{headerHeight}}">
		<paper-shadow z="1"></paper-shadow>
		<core-toolbar id="header" class="medium-tall" style="height: {{headerHeight}}">
			<paper-icon-button icon="arrow-back" hidden?="{{!smaller}}"></paper-icon-button>
			<div flex id="header-title"><span id="title-duarte">Duarte</span><span id="title-snake">snake</span></div>
			<paper-item hidden?="{{loggedin}}" on-tap="{{openModal}}" data-modal-id="registerModal" label="Sign up"></paper-item>
			<paper-item hidden?="{{loggedin}}" on-tap="{{openModal}}" data-modal-id="loginModal" label="Log in"></paper-item>

			<div class="bottom fit header-bottom" horizontal layout hidden?="{{smaller}}">
		
				<paper-tabs id="tabs" on-core-activate="{{onSelect}}" selected="{{selected}}" flex>
				
					<paper-tab name="about">About</paper-tab>
					<paper-tab name="browse">Browse maps</paper-tab>
					<paper-tab name="profile">My profile</paper-tab>
					<paper-tab name="create">Create map</paper-tab>
			
				</paper-tabs>
		  
			</div>

		</core-toolbar>
	</div>
	<paper-dialog transition="paper-dialog-transition-bottom" id="registerModal" heading="Sign up">
		<duarte-register></duarte-register>
	</paper-dialog>
	<paper-dialog id="loginModal" heading="Log in">
		<duarte-login></duarte-login>
	</paper-dialog>

  </template>
  <script>
	Polymer('duarte-header', {
		smaller: true,
		loggedin: false,
		ready: function() {
			this.headerHeight = this.smaller ? '72px' : '142px';
		},
		openModal: function(event, detail, button) {
			this.$[button.dataset.modalId].toggle();
		},
		onSelect: function(event, detail) {
			this.fire('selected');
		}
	});
  </script>
</polymer-element>